function showLog() {
    if (!ui.logContent) return;
    ui.logContent.innerHTML = ""; 

    state.history.forEach(log => {
        if (!log.text) return;
        const entry = document.createElement("div");
        entry.className = "log-entry";
        
        // 判斷是否顯示名字 (排除旁白)
        const nameHtml = (log.speaker && log.speaker !== "Narrator") 
            ? `<span class="log-name">${log.speaker}</span>` 
            : "";
        
        entry.innerHTML = `
            ${nameHtml}
            <span class="log-text">${log.text}</span>
        `;

        ui.logContent.appendChild(entry);
    });

    ui.logWindow.hidden = false;
    setTimeout(() => {
        ui.logContent.scrollTop = ui.logContent.scrollHeight;
    }, 50);
}